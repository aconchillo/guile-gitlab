# -*- mode: org; -*-
* Guile-GitLab
  GNU Guile interface to GitLab CE REST API.

** Requirements
   - [[https://www.gnu.org/software/guile/][GNU Guile]] 2.2
   - [[https://github.com/aconchillo/guile-json][Guile-JSON]]

** Installation
#+BEGIN_EXAMPLE shell
$ autoreconf -vif
$ ./configure
$ make
$ sudo make install
#+END_EXAMPLE

** =gitlab-cli= tool
   Guile-GitLab comes with the tool called =gitlab-cli= -- the tool can be used
   to interact with a GitLab instance from the console.

*** Getting help
#+BEGIN_EXAMPLE shell
$ gitlab-cli --help
$ gitlab-cli user --help
$ gitlab-cli user list --help
#+END_EXAMPLE

*** Getting the list of all users
#+BEGIN_EXAMPLE shell
$ gitlab-cli user --token "your-secret-gitlab-token" --server "https://gitlab.example.org"
#+END_EXAMPLE

You can use =ls= instead of =list=.

*** Getting a user with the specific ID
#+BEGIN_EXAMPLE shell
$ gitlab-cli user list --token "your-secret-gitlab-token" --server "https://gitlab.example.org" \
        --id 12345
#+END_EXAMPLE

*** Limit number of users
#+BEGIN_EXAMPLE shell
$ gitlab-cli user list --token "your-secret-gitlab-token" --server "https://gitlab.example.org" \
        --search "gmail" \
        --limit 10
#+END_EXAMPLE

*** Use regular expressions to match user emails
#+BEGIN_EXAMPLE shell
$ gitlab-cli user list --token "your-secret-gitlab-token" --server "https://gitlab.example.org" \
        --email-like ".*gmail.com"
#+END_EXAMPLE

*** Print only the specified fields for each user
#+BEGIN_EXAMPLE shell
$ gitlab-cli user list --token "your-secret-gitlab-token" --server "https://gitlab.example.org" \
        --limit 10 \
        --print "name,email"
#+END_EXAMPLE
